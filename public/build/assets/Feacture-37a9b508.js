import{r as f,_ as g,a as e,j as t,F as x}from"./app-22fcf5ab.js";import{I as d}from"./InputError-34061e86.js";import{P as N}from"./PrimaryButton-94fd7c30.js";import{S as y}from"./SecondaryButton-22645c8d.js";import{F as v}from"./index-69c2bd37.js";import{f as k,g as b,S as C}from"./index-e835bf01.js";import w from"./Attributes-3388ad8b.js";import"./bootstrap-74cea6cc.js";import"./Spinner-19cd8a22.js";import"./AttributeValues-04dba8ff.js";import"./use-flags-3a807b7a.js";import"./keyboard-c6e9c070.js";import"./hidden-ec1212db.js";import"./description-06037014.js";const q=({product:s,attributesDefault:h})=>{const[c,r]=f.useState(""),{data:i,setData:n,post:o,get:F,errors:l}=g({quantity:1,product_id:s.id,attributes:h}),u=()=>{o(route("shopping-cart.store"),{preserveScroll:!0,onStart:a=>{r("shoppingCart")},onFinish:a=>{r("")}})},p=()=>{o(route("checkout.add-single-product"),{preserveScroll:!0,onStart:a=>{r("checkout")},onFinish:a=>{r("")}})},m=a=>{switch(a){case"up":if(i.quantity===s.stock)return;n("quantity",i.quantity+1);break;case"down":if(i.quantity===1)return;n("quantity",i.quantity-1);break}};return e("div",{children:e("div",{className:"mt-8",children:s.stock.remaining<=0?t("div",{className:"text-gray-500  text-base flex items-center gap-x-2",children:[e(v,{className:"h-6  "}),e("span",{children:"Producto Agotado"})]}):t(x,{children:[s.attributes.length>0&&e("div",{className:"mt-8",children:e(w,{product:s,data:i,setData:n})}),t("div",{className:"flex space-x-3 items-stretch mt-8",children:[t("div",{className:"flex items-center border border-gray-200 rounded-md divide-gray-200 divide-x bg-white  h-10",children:[e("button",{onClick:()=>m("down"),className:" flex items-center px-4 h-full",children:e(k,{className:"h-4 w-4"})}),e("span",{id:"countQuantity",className:" flex items-center  h-full w-14 justify-center",children:i.quantity}),e("button",{onClick:()=>m("up"),className:" flex items-center px-4 h-full",children:e(b,{className:"h-4 w-4"})})]}),e("div",{className:"flex items-center",children:t("span",{className:" text-sm font-light text-gray-400",children:["( ",s.stock.remaining," disponibles )"]})})]}),t("div",{className:"flex flex-row items-center space-x-2 mt-8",children:[e(y,{isLoading:c=="shoppingCart",onClick:u,children:t("div",{className:"inline-flex items-center  ",children:[e(C,{className:"w-3 h-3 mr-3"}),e("span",{className:"text-sm font-semibold",children:"Agregar al Carrito "})]})}),e(N,{isLoading:c=="checkout",onClick:p,children:e("div",{className:"inline-flex ",children:e("span",{className:" text-sm font-semibold",children:"Comprar ahora "})})})]}),e(d,{className:"mt-3",message:l.quantity}),e(d,{className:"mt-3",message:l.product_id})]})})})},z=q;export{z as default};
