import{r as n,R as S}from"./app-22fcf5ab.js";import{l as B,j as M,L as g,y as C,T as N,o as k,u as T,D as $}from"./use-flags-3a807b7a.js";import{I as H,e as U,o as I,r as j}from"./keyboard-c6e9c070.js";import{c as A,d as v,C as F}from"./transition-36ea4045.js";function L(e){var t;if(e.type)return e.type;let l=(t=e.as)!=null?t:"button";if(typeof l=="string"&&l.toLowerCase()==="button")return"button"}function q(e,t){let[l,s]=n.useState(()=>L(e));return B(()=>{s(L(e))},[e.type,e.as]),B(()=>{l||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&s("button")},[l,t]),l}var O;let z=(O=S.startTransition)!=null?O:function(e){e()};var Q=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Q||{}),V=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(V||{});let Y={0:e=>({...e,disclosureState:T(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},R=n.createContext(null);R.displayName="DisclosureContext";function x(e){let t=n.useContext(R);if(t===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,x),l}return t}let h=n.createContext(null);h.displayName="DisclosureAPIContext";function K(e){let t=n.useContext(h);if(t===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,K),l}return t}let w=n.createContext(null);w.displayName="DisclosurePanelContext";function Z(){return n.useContext(w)}function G(e,t){return T(t.type,Y,e,t)}let J=n.Fragment;function W(e,t){let{defaultOpen:l=!1,...s}=e,y=n.useRef(null),r=C(t,N(c=>{y.current=c},e.as===void 0||e.as===n.Fragment)),u=n.useRef(null),m=n.useRef(null),a=n.useReducer(G,{disclosureState:l?0:1,linkedPanel:!1,buttonRef:m,panelRef:u,buttonId:null,panelId:null}),[{disclosureState:i,buttonId:d},P]=a,p=k(c=>{P({type:1});let o=U(y);if(!o||!d)return;let f=(()=>c?c instanceof HTMLElement?c:c.current instanceof HTMLElement?c.current:o.getElementById(d):o.getElementById(d))();f==null||f.focus()}),b=n.useMemo(()=>({close:p}),[p]),E=n.useMemo(()=>({open:i===0,close:p}),[i,p]),D={ref:r};return S.createElement(R.Provider,{value:a},S.createElement(h.Provider,{value:b},S.createElement(A,{value:T(i,{0:v.Open,1:v.Closed})},$({ourProps:D,theirProps:s,slot:E,defaultTag:J,name:"Disclosure"}))))}let X="button";function _(e,t){let l=H(),{id:s=`headlessui-disclosure-button-${l}`,...y}=e,[r,u]=x("Disclosure.Button"),m=Z(),a=m===null?!1:m===r.panelId,i=n.useRef(null),d=C(i,t,a?null:r.buttonRef);n.useEffect(()=>{if(!a)return u({type:2,buttonId:s}),()=>{u({type:2,buttonId:null})}},[s,u,a]);let P=k(o=>{var f;if(a){if(r.disclosureState===1)return;switch(o.key){case I.Space:case I.Enter:o.preventDefault(),o.stopPropagation(),u({type:0}),(f=r.buttonRef.current)==null||f.focus();break}}else switch(o.key){case I.Space:case I.Enter:o.preventDefault(),o.stopPropagation(),u({type:0});break}}),p=k(o=>{switch(o.key){case I.Space:o.preventDefault();break}}),b=k(o=>{var f;j(o.currentTarget)||e.disabled||(a?(u({type:0}),(f=r.buttonRef.current)==null||f.focus()):u({type:0}))}),E=n.useMemo(()=>({open:r.disclosureState===0}),[r]),D=q(e,i),c=a?{ref:d,type:D,onKeyDown:P,onClick:b}:{ref:d,id:s,type:D,"aria-expanded":e.disabled?void 0:r.disclosureState===0,"aria-controls":r.linkedPanel?r.panelId:void 0,onKeyDown:P,onKeyUp:p,onClick:b};return $({ourProps:c,theirProps:y,slot:E,defaultTag:X,name:"Disclosure.Button"})}let ee="div",te=M.RenderStrategy|M.Static;function ne(e,t){let l=H(),{id:s=`headlessui-disclosure-panel-${l}`,...y}=e,[r,u]=x("Disclosure.Panel"),{close:m}=K("Disclosure.Panel"),a=C(t,r.panelRef,b=>{z(()=>u({type:b?4:5}))});n.useEffect(()=>(u({type:3,panelId:s}),()=>{u({type:3,panelId:null})}),[s,u]);let i=F(),d=(()=>i!==null?(i&v.Open)===v.Open:r.disclosureState===0)(),P=n.useMemo(()=>({open:r.disclosureState===0,close:m}),[r,m]),p={ref:a,id:s};return S.createElement(w.Provider,{value:r.panelId},$({ourProps:p,theirProps:y,slot:P,defaultTag:ee,features:te,visible:d,name:"Disclosure.Panel"}))}let le=g(W),re=g(_),oe=g(ne),ce=Object.assign(le,{Button:re,Panel:oe});export{q as s,ce as v};
