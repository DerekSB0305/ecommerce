import{W as C,j as l,F as v,a as e,g as w}from"./app-22fcf5ab.js";import{B as o}from"./Badge-fbe84533.js";import{f as F}from"./helpers-9e61808a.js";import{X as a}from"./index-e835bf01.js";import j from"./FilterPrice-114c40a7.js";import B from"./FilterRadio-c5f5214f.js";import h from"./FilterContainer-c4cb958a.js";import b from"./FilterCheckbox-f4dfa96e.js";const k=({data:s,setData:m,changeFilter:p,changeAttribute:u})=>{const{listDepartments:g,listCategories:f,listAttributes:d}=C().props,c=(r,t=null)=>{let i=s;typeof i[r]=="object"?i[r]=i[r].filter(n=>n!==t):i[r]="",m({...i})};return l(v,{children:[l("div",{className:"flex items-center justify-between ",children:[e(_,{children:"Filtros"}),e("button",{className:"text-xs font-light",onClick:()=>{w.get(route("search"))},children:"Borrar todo"})]}),l("div",{className:"flex flex-wrap text-xs gap-2.5",children:[s.q&&l(o,{color:"gray",children:[l("span",{className:"mr-2 ",children:['"',s.q,'"']}),e("button",{onClick:()=>c("q"),children:e(a,{className:"w-3 h-3"})})]}),g.map((r,t)=>r.selected&&l(o,{color:"gray",children:[e("span",{className:"mr-2 up",children:r.name}),e("button",{onClick:()=>p("departments",r.slug,!1),children:e(a,{className:"w-3 h-3"})})]},"department"+t)),f.map((r,t)=>r.selected&&l(o,{color:"gray",children:[e("span",{className:"mr-2 up",children:r.name}),e("button",{onClick:()=>p("categories",r.slug,!1),children:e(a,{className:"w-3 h-3"})})]},"category"+t)),d.map((r,t)=>r.attribute_values.map(i=>i.selected&&l(o,{color:"gray",children:[e("span",{className:"mr-2 up",children:i.name}),e("button",{onClick:()=>u(r.slug,i.slug,!1),children:e(a,{className:"w-3 h-3"})})]},"attribute"+t))),s.price_min&&l(o,{color:"gray",children:[l("span",{className:"mr-2 capitalize",children:["Desde ",F(s.price_min)]}),e("button",{onClick:()=>c("price_min"),children:e(a,{className:"w-3 h-3"})})]}),s.price_max&&l(o,{color:"gray",children:[l("span",{className:"mr-2 capitalize",children:["Hasta ",F(s.price_max)]}),e("button",{onClick:()=>c("price_max"),children:e(a,{className:"w-3 h-3"})})]}),s.sortBy&&l(o,{color:"gray",children:[e("span",{className:"mr-2 capitalize",children:s.sortBy}),e("button",{onClick:()=>c("sortBy"),children:e(a,{className:"w-3 h-3"})})]}),s.offer&&l(o,{color:"gray",children:[l("span",{className:"mr-2 ",children:["Descuentos desde ",s.offer,"%"]}),e("button",{onClick:()=>c("offer"),children:e(a,{className:"w-3 h-3"})})]})]})]})},X=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"})),A=[{name:"Desde 10%",slug:"10"},{name:"Desde 20%",slug:"20"},{name:"Desde 30%",slug:"30"},{name:"Desde 40%",slug:"40"}],S=({data:s,setData:m})=>{const{listDepartments:p,listCategories:u,listAttributes:g,listBrands:f}=C().props,d=(r,t,i)=>{let n=[];switch(r){case"categories":n=u;break;case"departments":n=p;break;case"brands":n=f;break}let y=c(n,t,i);m(r,y)},c=(r,t,i)=>r.filter(n=>n.slug==t?i:n.selected).map(n=>n.slug),N=(r,t,i)=>{const n=g.find(x=>x.slug==r),y=c(n.attribute_values,t,i);m("attributes",{...s.attributes,[r]:y})};return l("div",{className:"divide-y divide-gray-200 space-y-5",children:[e("div",{children:e(k,{data:s,setData:m,changeAttribute:N,changeFilter:d})}),e(h,{title:"Departamentos",children:e(b,{optionsList:p,changeFilter:d,filterName:"departments"})}),e(h,{title:"Categorias",children:e(b,{optionsList:u,changeFilter:d,filterName:"categories"})}),g.map((r,t)=>e(h,{title:r.name,children:e(b,{optionsList:r.attribute_values,changeFilter:N,filterName:r.slug})},t)),e(h,{title:"Precio",children:e(j,{data:s,setData:m})}),e(h,{title:"Ofertas",children:e(B,{options:A,data:s,setData:m,filterName:"offer"})}),e(h,{title:"Marcas",children:e(b,{optionsList:f,changeFilter:d,filterName:"brands"})})]})},z=S,_=({children:s})=>e("h3",{className:"font-medium mb-4 ",children:s}),$=Object.freeze(Object.defineProperty({__proto__:null,FilterTitle:_,default:z},Symbol.toStringTag,{value:"Module"}));export{z as F,X as a,$ as b};
