import{_ as x,r as c,a as e,j as t,d as y}from"./app-22fcf5ab.js";import{I as d}from"./InputError-34061e86.js";import{f as o}from"./helpers-9e61808a.js";import{S as g}from"./Spinner-19cd8a22.js";import"./bootstrap-74cea6cc.js";const C=({cardProduct:s})=>{const{data:i,setData:h,delete:p,put:u,processing:n,errors:r}=x({quantity:s.quantity,product_id:s.id}),f=a=>{let l=a.target.value;h("quantity",l)},v=()=>{p(route("shopping-cart.destroy",s.rowId),{preserveScroll:!0})},m=c.useRef(!0);return c.useEffect(()=>{if(m.current){m.current=!1;return}u(route("shopping-cart.update",s.rowId),{preserveScroll:!0})},[i]),e("div",{className:"relative",children:t("div",{className:" py-6 w-full relative ",children:[n&&e("div",{className:"absolute inset-0 opacity-70 bg-white z-10 flex justify-center items-center",children:e(g,{})}),t("div",{className:"grid grid-cols-12 gap-6 md:gap-4 items-stretch",children:[e("div",{className:"col-span-5 md:col-span-2",children:e(y,{href:route("product",{slug:s.slug}),children:e("div",{className:" flex items-center justify-center h-full",children:e("img",{className:" md:max-h-28 lg:max-h-28 max-w-full",src:s.img,alt:s.name})})})}),e("div",{className:"col-span-7 md:col-span-5",children:t("div",{className:"flex flex-col  h-full gap-y-2",children:[e("div",{className:"flex justify-between text-base font-medium text-gray-900",children:e("h3",{children:s.name})}),e("div",{children:s.attributes.map((a,l)=>t("div",{className:"flex gap-x-1.4 text-sm",children:[e("div",{className:" font-medium pr-3 ",children:a.name}),e("div",{className:" text-gray-500",children:a.value})]},l))})]})}),e("div",{className:" col-span-6 md:col-span-2",children:t("div",{children:[e("select",{className:"rounded-md py-1 border-gray-200 focus:ring-none",name:"quantity",disabled:n,onChange:f,value:i.quantity,children:[...Array(s.maxQuantity).keys()].map(a=>e("option",{value:a+1,children:a+1},a))}),e("div",{className:" text-gray-400 text-xs mt-2 space-y-1",children:s.quantity>1&&t("div",{className:"",children:[" 1 x ",o(s.priceOffer)," "]})}),e(d,{className:"mt-1.5",message:r.quantity}),e(d,{className:"mt-1.5",message:r.product_id})]})}),e("div",{className:"col-span-6 md:col-span-3",children:t("div",{className:"flex flex-col justify-between items-end h-full",children:[e("div",{children:e("div",{className:" font-semibold text-lg",children:o(s.total)})}),e("button",{onClick:v,className:"text-sm text-red-500 text-right font-medium",children:"Eliminar"})]})})]})]})})};export{C as default};
